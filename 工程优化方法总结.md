# 工程优化方法总结

## 基础知识

### 多元函数的梯度

以f的n个偏导数为分量的向量称为f在x处的梯度，记为


$$
\nabla f(x)=(\frac{\partial f(x)}{\partial x_1},\frac{\partial f(x)}{\partial x_1},...\frac{\partial f(x)}{\partial x_1})^T
$$
也称作f关于x的一阶导数。

梯度方向是函数具有最大变化率的方向，**即：沿地图方向的方向导数最大。**

### 方向导数

$$
\frac{\partial f(x_0)}{\partial p}=\lim_{t \to 0^+}\frac{f(x_0+p)-f(x_0)}{t}=\lim_{t \to 0^+}\frac{f(x_0+te)-f(x_0)}{t}
$$

当方向导数大于0时，表示$f(x)$在$x_0$处沿$p$方向上升；反之，当方向导数小于0时，表示$f(x)$在$x_0$处沿$p$方向下降。

函数升降速度的快慢有方向导数的绝对值大小来决定，绝对值越大生姜速度越大，也称为$f(x)$在$x_0$处沿$p$方向的变化率。

**推论：**若$\nabla f(x_0)^T p<0$，则$p$是函数$f(x)$在$x_0$处的下降方向。

​			若$\nabla f(x_0)^T p>0$，则$p$是函数$f(x)$在$x_0$处的上升方向。

通过这个推论，我们可以判断在某一点处沿某一方向是上升方向还是下降方向。

### 多元函数的Hessian矩阵

多元函数的二阶导数即为Hessian矩阵$\nabla^2f(x)$
$$
\nabla^2f(x)=\nabla(\nabla f(x))= \left[
\begin{matrix}
\frac{\partial^2f(x)}{\partial x_1^2} & \frac{\partial^2f(x)}{\partial x_1 \partial x_2} & ...
\frac{\partial^2f(x)}{\partial x_1 \partial x_n} \\
\frac{\partial^2f(x)}{\partial x_2 \partial x_1} & \frac{\partial^2f(x)}{\partial x_2^2} & ...
\frac{\partial^2f(x)}{\partial x_2 \partial x_n} \\
\frac{\partial^2f(x)}{\partial x_n \partial x_1} &
\frac{\partial^2f(x)}{\partial x_n \partial x_2} & ...
\frac{\partial^2f(x)}{\partial x_n^2}

\end{matrix}
\right]
$$
使用顺序主子式来判断Hessian矩阵是否正定。

### 泰勒展开

以二元函数在某一点处的二阶泰勒展开为例
$$
f(x_1+\delta_1,x_2+\delta_2)=f(x_1,x_2)+\frac{\partial f}{\partial x_1}\delta_1+\frac{\partial f}{\partial x_2}\delta_2 + \frac{1}{2}(\frac{\partial^2 f}{\partial x_1^2}\delta_1^2 + \frac{2\partial^2 f}{\partial x_1\partial x_2}\delta_1 \delta_2+\frac{\partial^2 f}{\partial x_2^2}\delta_2^2) + o(\Vert \delta \Vert^2)
$$

### 可行方向

给定可行域$\Omega$内的一点$x$，若存在一个常量$\alpha>0$，对于任意一个方向向量，有$x+\alpha d\in\Omega$，对所有的$0\leq \alpha\leq\hat{\alpha}$都成立，那么我们成$d$为点$x$处的一个可行方向。

### 二元函数的极值判别条件

#### 一阶必要条件

1、若目标函数连续可导，点$x^*$式一个局部极小值点，那么有：
$$
g(x^*)\cdot d \geq0
$$
其中，d是点$x^*$处的任意一个可行方向。

2、若$x^*$位于可行域$\Omega$内部（意味着任意方向均为可行方向）,那么有
$$
g(x^*)=0
$$
即，若极小值点位于边界，那么其任意方向均为上升方向。而若极小值点位于可行域内部，则其一阶导数为0。

#### 二阶必要条件

1、若$f(x)$二阶连续可到，那么当$x^*$是一个局部极小值点时，对于$x^*$处的任一可行方向：

1）$g(x^*)^T\cdot d\ge0$

2)若$g(x^*)^T\cdot d=0$，那么有$d^TH(x^*)d\ge0$。

2、若$x^*$是可行域上的内点，那么，$x^*$是一个极小值点的必要条件是：

1)$g(x^*)=0$

2)$d^TH(x^*)d\ge 0$对于所有的向量$d$。

即所有的二阶导与方向的乘积均要大于等于0。

#### 二阶充分条件

若$f(x)$二阶连续可导，点$x^*$位于优化问题可行域的内部，则若下列两个条件成立，$x^*$是一个强局部最小点。

1、$g(x^*)=0$

2、$H(x^*)$正定

### 凸集

对于集合$R_c$中的任意两点$x_1,x_2$以及任意$\alpha$满足$0<\alpha<1$，若点$x=\alpha\cdot x_1+(1-\alpha)\cdot x_2$依然在$R_c$中，那么我们称$R_c$为凸集。

设A,B是凸集，则$A\cap B、A+B、A-B$也是凸集，**而$A\cup B$不一定是凸集。**

### 凸函数

设集合D为凸集，函数$f:D\rightarrow R$对于任意两点$x_1,x_2$和$0<\alpha<1$，有
$$
f(\alpha\cdot x_1+(1-\alpha)\cdot x_2)\le\alpha\cdot f(x_1)+(1-\alpha)\cdot f(x_2)
$$
成立，则成$f(x)$为凸集D上的凸函数。

### 凸函数的性质

#### 凸函数与梯度的关系

设$f(x)$在凸集$R_c$上一阶连续可到，那么$f(x)$是定义在凸集$R_C$上的凸函数当且仅当：
$$
f(x_1)\ge f(x) + g(x)^T(x_1-x)
$$
对所有的$x,x_1\in R_c$都成立，这里$g(x)=\nabla f(x)$

#### 凸函数与Hessian矩阵的关系

设$f(x)$在凸集$R_c$上二阶连续可导，$f(x)$是凸函数当且仅当对于的Hessian矩阵式半正定的。

### 凸规划问题的性质

设$f(x)$式定义在凸集$R_c$上的凸函数，那么：

$f(x)$的局部极小值点即为全局极小值点。